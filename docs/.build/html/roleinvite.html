

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RoleInvite &mdash; Laggron&#39;s Dumb Cogs  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="InstantCommands" href="instantcommands.html" />
    <link rel="prev" title="Say" href="say.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Laggron's Dumb Cogs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Cog guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="say.html">Say</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RoleInvite</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#roleset">roleset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roleset-add">roleset add</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roleset-remove">roleset remove</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roleset-list">roleset list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roleset-enable">roleset enable</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#frequently-asked-question">Frequently Asked Question</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#can-i-make-it-so-the-bot-adds-x-roles-if-the-invite-used-is-unknown">Can I make it so the bot adds x roles if the invite used is unknown?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#can-i-make-it-so-the-bot-always-adds-x-roles-regardless-of-the-invite-used">Can I make it so the bot always adds x roles, regardless of the invite used?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#can-i-make-a-custom-welcome-message-for-each-invite-link">Can I make a custom welcome message for each invite link?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-bot-suddenly-stopped-adding-roles-to-the-new-members">The bot suddenly stopped adding roles to the new members</a></li>
<li class="toctree-l3"><a class="reference internal" href="#some-roles-are-not-added-to-the-new-members">Some roles are not added to the new members</a></li>
<li class="toctree-l3"><a class="reference internal" href="#an-invite-link-was-removed-without-any-action">An invite link was removed without any action</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-lost-all-of-my-data-on-the-guild">I lost all of my data on the guild</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="instantcommands.html">InstantCommands</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="roleinvite-api.html">RoleInvite</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Laggron's Dumb Cogs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>RoleInvite</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/roleinvite.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="roleinvite">
<h1>RoleInvite<a class="headerlink" href="#roleinvite" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These docs refers to the <strong>beta 2b</strong> version.
Make sure you’re under the good version by typing <code class="docutils literal"><span class="pre">[p]cog</span> <span class="pre">update</span></code>.</p>
</div>
<p>This is the guide for the <code class="docutils literal"><span class="pre">roleinvite</span></code> cog. Everything you need is here.</p>
<p><code class="docutils literal"><span class="pre">[p]</span></code> is considered as your prefix.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install the cog, first load the downloader cog, included
in core Red.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">load</span> <span class="n">downloader</span>
</pre></div>
</div>
<p>Then you will need to install the Laggron’s Dumb Cogs repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">repo</span> <span class="n">add</span> <span class="n">Laggrons</span><span class="o">-</span><span class="n">Dumb</span><span class="o">-</span><span class="n">Cogs</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">retke</span><span class="o">/</span><span class="n">Laggrons</span><span class="o">-</span><span class="n">Dumb</span><span class="o">-</span><span class="n">Cogs</span> <span class="n">v3</span>
</pre></div>
</div>
<p>Finally, you can install the cog:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">cog</span> <span class="n">install</span> <span class="n">Laggrons</span><span class="o">-</span><span class="n">Dumb</span><span class="o">-</span><span class="n">Cogs</span> <span class="n">roleinvite</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The cog is not loaded by default.
To load it, type this:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">load</span> <span class="n">roleinvite</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Before giving the commands list, I’d like to show you how the cog is working.</p>
<p>The cog works with what I call invite links. Each invite
link is linked to one or more roles. This mean that,
every time a new user join the server, if he used the invite A to
join the server, he will get the list of roles linked to the invite A.</p>
<p>You can link many roles  to multiple invites, so you can imagine something
like “click <strong>here</strong> if you are an engineer, else click <strong>here</strong> if you’re
an architect”, and make roleinvite give the engineer or architect roles.</p>
<p>You can also link roles to default or main autorole.
If you link roles to the main autorole,
the new member will get these roles if he
joined with an unlinked invite. If you link roles
to the default autorole, new users will always get
these roles, whatever invite he used.</p>
<p>Here’s a schema for a better understanding:</p>
<img alt="_images/RoleInvite.png" src="_images/RoleInvite.png" />
<p>Here’s the list of all commands of this cog.</p>
<div class="section" id="roleset">
<span id="command-roleset"></span><h3>roleset<a class="headerlink" href="#roleset" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">roleset</span>
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>This is the main command used for setting up the code.
It will be used for all other commands.</p>
</div>
<div class="section" id="roleset-add">
<span id="command-roleset-add"></span><h3>roleset add<a class="headerlink" href="#roleset-add" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">roleset</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">invite</span><span class="o">|</span><span class="n">main</span><span class="o">|</span><span class="n">default</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">role</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>Link a role to a Discord invite or a default autorole.</p>
<ul class="simple">
<li>If <code class="docutils literal"><span class="pre">invite</span></code> is specified (a discord invite link),
a new invite link will be created with the role you gave.</li>
<li>If <code class="docutils literal"><span class="pre">main</span></code> is specified, the role will be linked to the main autorole.</li>
<li>If <code class="docutils literal"><span class="pre">default</span></code> is given, the role will be linked to the default autorole.</li>
</ul>
<p>You can link more roles by typing the command with the same argument.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;invite&gt;</span></code> The object to link the role to.</p>
<blockquote>
<div><ul class="simple">
<li>If it is a Discord invite URL, the role will be linked to it.</li>
<li>If it is <code class="docutils literal"><span class="pre">main</span></code>, the role will be linked to the main autorole
(role given if the invite used is not linked to any roles).</li>
<li>If it is <code class="docutils literal"><span class="pre">default</span></code>, the role will be linked to the default autorole
(role always given, whatever invite the user used).</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;role&gt;</span></code> The role to be linked. Please give the <strong>exact role name</strong>
or the ID.</p>
</li>
</ul>
</div>
<div class="section" id="roleset-remove">
<span id="command-roleset-remove"></span><h3>roleset remove<a class="headerlink" href="#roleset-remove" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">roleset</span> <span class="n">remove</span> <span class="o">&lt;</span><span class="n">invite</span><span class="o">|</span><span class="n">main</span><span class="o">|</span><span class="n">default</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">role</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>Unlink a role from an autorole. If the role is not given, the full autorole
will be removed.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">&lt;invite&gt;</span></code> The object that will be edited.</p>
<blockquote>
<div><ul class="simple">
<li>If it is a Discord invite URL, the role will be unlinked from it.</li>
<li>If it is <code class="docutils literal"><span class="pre">main</span></code>, the role will be unlinked from the main autorole.</li>
<li>If it is <code class="docutils literal"><span class="pre">default</span></code>, the role will be unlinked from
the default autorole.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">[role]</span></code> Optional. The role to be unlinked. Please give the
<strong>exact role name</strong> or the ID. If not given, the entire
autorole will be removed.</p>
</li>
</ul>
</div>
<div class="section" id="roleset-list">
<span id="command-roleset-list"></span><h3>roleset list<a class="headerlink" href="#roleset-list" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[p]roleset list
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>List all of the existing autoroles on the guild, with their linked roles.</p>
</div>
<div class="section" id="roleset-enable">
<span id="command-roleset-enable"></span><h3>roleset enable<a class="headerlink" href="#roleset-enable" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[p]roleset enable
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>Enable or disable the autorole system.</p>
</div>
</div>
<div class="section" id="frequently-asked-question">
<h2>Frequently Asked Question<a class="headerlink" href="#frequently-asked-question" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Your question is not in the list or you got an unexcpected issue?</strong></p>
<p class="last">You should join the <a class="reference external" href="https://discord.gg/WsTGeQM">Discord server</a> or
<a class="reference external" href="https://github.com/retke/Laggrons-Dumb-Cogs/issues/new/choose">post an issue</a>
on the repo.</p>
</div>
<div class="section" id="can-i-make-it-so-the-bot-adds-x-roles-if-the-invite-used-is-unknown">
<h3>Can I make it so the bot adds x roles if the invite used is unknown?<a class="headerlink" href="#can-i-make-it-so-the-bot-adds-x-roles-if-the-invite-used-is-unknown" title="Permalink to this headline">¶</a></h3>
<p>Yes, by using the <code class="docutils literal"><span class="pre">main</span></code> value instead of using a discord invite
when creating a new invite link. See <a class="reference internal" href="#command-roleset-add"><span class="std std-ref">roleset add</span></a> command’s
arguments for more informations.</p>
</div>
<div class="section" id="can-i-make-it-so-the-bot-always-adds-x-roles-regardless-of-the-invite-used">
<h3>Can I make it so the bot always adds x roles, regardless of the invite used?<a class="headerlink" href="#can-i-make-it-so-the-bot-always-adds-x-roles-regardless-of-the-invite-used" title="Permalink to this headline">¶</a></h3>
<p>Yes, by using the <code class="docutils literal"><span class="pre">default</span></code> value instead of using a discord invite
when creating a new invite link. See <a class="reference internal" href="#command-roleset-add"><span class="std std-ref">roleset add</span></a> command’s
arguments for more informations.</p>
</div>
<div class="section" id="can-i-make-a-custom-welcome-message-for-each-invite-link">
<h3>Can I make a custom welcome message for each invite link?<a class="headerlink" href="#can-i-make-a-custom-welcome-message-for-each-invite-link" title="Permalink to this headline">¶</a></h3>
<p>Not for now. I’m thinking about interacting with another package for that,
but that’ll require an API, which is rare with cog creators, and creating
my own welcomer system is a lot of work.</p>
<p>This may be available in a future release.</p>
</div>
<div class="section" id="the-bot-suddenly-stopped-adding-roles-to-the-new-members">
<h3>The bot suddenly stopped adding roles to the new members<a class="headerlink" href="#the-bot-suddenly-stopped-adding-roles-to-the-new-members" title="Permalink to this headline">¶</a></h3>
<p>The bot will automatically turn off the autorole system if he lose the <code class="docutils literal"><span class="pre">Manage</span>
<span class="pre">sever</span></code> or the <code class="docutils literal"><span class="pre">Add</span> <span class="pre">roles</span></code> permission, which are absolutely necessary for the cog.</p>
<p>If you added the permissions back, enable the autorole again with the command
<a class="reference internal" href="#command-roleset-enable"><span class="std std-ref">enable</span></a>.</p>
</div>
<div class="section" id="some-roles-are-not-added-to-the-new-members">
<h3>Some roles are not added to the new members<a class="headerlink" href="#some-roles-are-not-added-to-the-new-members" title="Permalink to this headline">¶</a></h3>
<p>This can happens if the role hierarchy is modified after the roles got linked.
Remember that a bot/member can only add roles that are below him in the role
hierarchy.</p>
<p>Modify the role hirearchy and make sure all necessary roles are <strong>below</strong>
the bot’s highest role. If it still doesn’t work, try to link the role again.</p>
</div>
<div class="section" id="an-invite-link-was-removed-without-any-action">
<h3>An invite link was removed without any action<a class="headerlink" href="#an-invite-link-was-removed-without-any-action" title="Permalink to this headline">¶</a></h3>
<p>Invite links will be deleted if the invite doesn’t exist anymore
(manual delete or invite expired).</p>
</div>
<div class="section" id="i-lost-all-of-my-data-on-the-guild">
<h3>I lost all of my data on the guild<a class="headerlink" href="#i-lost-all-of-my-data-on-the-guild" title="Permalink to this headline">¶</a></h3>
<p>The bot will delete your server’s data after a restart if he’s
not anymore on your server. Don’t kick the bot and use the disable function instead.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="instantcommands.html" class="btn btn-neutral float-right" title="InstantCommands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="say.html" class="btn btn-neutral" title="Say" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, El Laggron.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>